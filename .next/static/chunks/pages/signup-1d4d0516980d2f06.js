(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{4376:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return r(367)}])},7668:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>d,TN:()=>u});var a=r(4848),s=r(6540),n=r(4164);let o=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=n.$;var i=r(8019);let c=((e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return l(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:n}=t,i=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],a=null==n?void 0:n[e];if(null===t)return null;let l=o(t)||o(a);return s[e][l]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return l(e,i,null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...n,...c}[t]):({...n,...c})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)})("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(c({variant:s}),r),...n})});d.displayName="Alert",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})}).displayName="AlertTitle";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...s})});u.displayName="AlertDescription"},9748:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var a=r(4848);r(6540);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return({default:"bg-primary text-white hover:bg-primary/90",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-100",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"hover:bg-gray-100",link:"text-blue-600 underline-offset-4 hover:underline",purple:"bg-indigo-600 text-white hover:bg-indigo-600"})[e]},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return({default:"h-9 px-4 py-2",sm:"h-8 px-3 py-1 text-sm",lg:"h-12 px-8 py-3",icon:"h-9 w-9 p-2"})[e]},o=e=>{let{className:t="",children:r,variant:o="default",size:l="default",...i}=e;return(0,a.jsx)("button",{className:"\n      rounded-lg \n      font-medium \n      transition-colors \n      duration-200 \n      focus:outline-none \n      focus:ring-2 \n      focus:ring-blue-500 \n      ".concat(s(o),"\n      ").concat(n(l),"\n      ").concat(t,"\n    "),...i,children:r})}},5130:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var a=r(4848);r(6540);let s=e=>{let{className:t="",...r}=e;return(0,a.jsx)("input",{className:"w-full px-4 py-2 rounded-lg border border-gray-600 focus:outline-none focus:border-blue-500 bg-gray-700 text-white ".concat(t),...r})}},8019:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(4164),s=r(856);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},7068:(e,t,r)=>{"use strict";r.d(t,{BD:()=>n,Hh:()=>s,Jv:()=>a,Zm:()=>o});let a=async(e,t)=>{try{let r=await fetch("http://127.0.0.1:8000/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await r.json();if(!r.ok)throw Error(a.detail||"Failed to sign in");return a.token&&localStorage.setItem("jwt_token",a.token),{success:!0,token:a.token,token_type:a.token_type,user:a.user}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}},s=async(e,t)=>{try{let r=await fetch("http://127.0.0.1:8000/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await r.json();if(!r.ok)throw Error(a.detail||"Failed to sign up");return a.token&&localStorage.setItem("jwt_token",a.token),{success:!0,token:a.token,token_type:a.token_type,user:a.user}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}},n=async e=>{try{let t=await fetch("http://127.0.0.1:8000/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),r=await t.json();if(!t.ok)throw Error(r.detail||"Failed to process request");return{success:!0,message:r.message}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unknown error occurred"}}},o=async()=>{try{let e=localStorage.getItem("jwt_token");if(!e)throw Error("No authentication token found");let t=await fetch("http://127.0.0.1:8000/api/user/state",{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("Failed to fetch user state");return(await t.json()).state}catch(e){return console.error("Error checking user state:",e),null}}},367:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(4848),s=r(6540),n=r(6715),o=r(9748),l=r(5130),i=r(7668),c=r(1106),d=r.n(c),u=r(3787),h=r(154),p=r(7068);let m=()=>{let e=(0,n.useRouter)(),[t,r]=(0,s.useState)({email:"",password:"",confirmPassword:""}),[c,m]=(0,s.useState)(!1),[g,f]=(0,s.useState)(null),x=()=>t.password!==t.confirmPassword?(f("Passwords do not match"),!1):t.password.length<8?(f("Password must be at least 8 characters long"),!1):!!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(t.password)||(f("Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character"),!1),y=async r=>{if(r.preventDefault(),f(null),x()){m(!0);try{let r=await (0,p.Hh)(t.email,t.password);if(!r.success)throw Error(r.error);e.push("/onboarding")}catch(e){f(e instanceof Error?e.message:"An error occurred")}finally{m(!1)}}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-indigo-900/20 to-gray-900 flex flex-col items-center justify-center p-6 relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#1f29370a_1px,transparent_1px),linear-gradient(to_bottom,#1f29370a_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_50%,#000_70%,transparent_100%)]"}),(0,a.jsx)("div",{className:"absolute top-6 left-6",children:(0,a.jsxs)(o.$,{variant:"ghost",onClick:()=>e.push("/"),className:"text-gray-400 hover:text-indigo-400 hover:bg-transparent h-auto py-2 flex items-center",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-left",children:"Back to home"})]})}),(0,a.jsxs)("div",{className:"w-full max-w-md space-y-8 bg-gray-800/50 backdrop-blur-xl p-8 rounded-xl border border-gray-700/50 relative z-10",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Create an Account"}),(0,a.jsx)("p",{className:"mt-2 text-gray-400",children:"Start your journey with us"})]}),g&&(0,a.jsx)(i.Fc,{variant:"destructive",children:(0,a.jsx)(i.TN,{children:g})}),(0,a.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-gray-300",children:"Email"}),(0,a.jsx)(l.p,{id:"email",type:"email",required:!0,placeholder:"you@example.com",className:"w-full bg-gray-700/50 text-white border-gray-600",value:t.email,onChange:e=>r({...t,email:e.target.value}),disabled:c})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"password",className:"text-sm font-medium text-gray-300",children:"Password"}),(0,a.jsx)(l.p,{id:"password",type:"password",required:!0,placeholder:"••••••••",className:"w-full bg-gray-700/50 text-white border-gray-600",value:t.password,onChange:e=>r({...t,password:e.target.value}),disabled:c}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Password must be at least 8 characters long and contain uppercase, lowercase, number, and special character"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"confirm-password",className:"text-sm font-medium text-gray-300",children:"Confirm Password"}),(0,a.jsx)(l.p,{id:"confirm-password",type:"password",required:!0,placeholder:"••••••••",className:"w-full bg-gray-700/50 text-white border-gray-600",value:t.confirmPassword,onChange:e=>r({...t,confirmPassword:e.target.value}),disabled:c})]})]}),(0,a.jsx)(o.$,{type:"submit",variant:"purple",className:"w-full",disabled:c,children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]}),(0,a.jsxs)("div",{className:"space-y-4 text-center",children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Or"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["Already have an account?"," ",(0,a.jsx)(d(),{href:"/signin",className:"text-indigo-400 hover:text-indigo-300 transition-colors",children:"Sign in"})]})]})]})]})}},3787:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9279).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},154:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9279).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[555,106,636,593,792],()=>t(4376)),_N_E=e.O()}]);