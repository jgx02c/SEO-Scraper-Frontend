(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[248],{44:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/details/[id]",function(){return a(6403)}])},3625:(e,s,a)=>{"use strict";a.d(s,{$:()=>l});var t=a(4848);a(6540);let l=e=>{let{className:s="",children:a,...l}=e;return(0,t.jsx)("button",{className:"px-4 py-2 rounded-lg font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(s),...l,children:a})}},4843:(e,s,a)=>{"use strict";a.d(s,{W:()=>r,Z:()=>l});var t=a(4848);a(6540);let l=e=>{let{className:s="",children:a}=e;return(0,t.jsx)("div",{className:"bg-gray-800 rounded-xl shadow-lg border border-gray-700 ".concat(s),children:a})},r=e=>{let{className:s="",children:a}=e;return(0,t.jsx)("div",{className:"p-6 space-y-4 ".concat(s),children:a})}},6403:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(4848),l=a(6540),r=a(6715),n=a(4843),i=a(3625),c=a(8298);let o=()=>{var e,s,a;let o=(0,r.useRouter)(),{id:d}=o.query,[x,h]=(0,l.useState)(null),[u,b]=(0,l.useState)([]),[m,g]=(0,l.useState)(!0),[p,v]=(0,l.useState)("overview"),[f,j]=(0,l.useState)(null),[N,y]=(0,l.useState)(null),[w,_]=(0,l.useState)(!1);(0,l.useEffect)(()=>{d&&(async()=>{try{let e=await fetch("https://leaps-scraper.onrender.com/get_business_by_id/".concat(d)),s=await e.json();h(s.data)}catch(e){console.error("Error fetching business details:",e)}finally{g(!1)}})()},[d]);let E=async()=>{if(d)try{let e=await fetch("https://leaps-scraper.onrender.com/get_pages_by_business_id/".concat(d)),s=await e.json();b(s.data||[])}catch(e){console.error("Error fetching webpages:",e)}},k=async e=>{j(e),_(!0);try{var s,a;let t=await fetch("https://leaps-scraper.onrender.com/get_page_by_id/".concat(e._id)),l=await t.json();y((null===(a=l.data)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.content)||"No content available."),setTimeout(()=>{let e=document.getElementById("modal-content-box");e&&(e.scrollTop=0)},0)}catch(e){console.error("Error fetching webpage content:",e),y("Error loading page content.")}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 p-6 text-white",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)(i.$,{className:"bg-blue-600 text-white",onClick:()=>o.push("/business"),children:"Back to Businesses"}),(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Business Details"})]}),(0,t.jsxs)("div",{className:"flex space-x-4 border-b border-gray-700 mb-6",children:[(0,t.jsx)("button",{className:"p-2 font-semibold ".concat("overview"===p?"border-b-2 border-blue-500 text-blue-400":"text-gray-400"),onClick:()=>v("overview"),children:"Overview"}),(0,t.jsx)("button",{className:"p-2 font-semibold ".concat("webpages"===p?"border-b-2 border-blue-500 text-blue-400":"text-gray-400"),onClick:()=>{v("webpages"),E()},children:"Webpages"})]}),m?(0,t.jsx)("p",{className:"text-center",children:"Loading business details..."}):x?(0,t.jsx)(n.Z,{className:"bg-gray-800 shadow-lg",children:(0,t.jsxs)(n.W,{className:"p-6 space-y-6",children:["overview"===p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold",children:x.name}),(0,t.jsx)("p",{className:"text-gray-400 mt-2",children:x.description})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Contact Information"}),(0,t.jsx)("p",{children:(null===(e=x.contact_information)||void 0===e?void 0:e.address)||"No Address Available"}),(0,t.jsx)("p",{children:(null===(s=x.contact_information)||void 0===s?void 0:s.email)||"No Email Available"}),(0,t.jsx)("p",{children:(null===(a=x.contact_information)||void 0===a?void 0:a.phone)||"No Phone Available"})]})]}),"webpages"===p&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Loaded Webpages"}),u.length>0?(0,t.jsx)("ul",{className:"space-y-3",children:u.map(e=>(0,t.jsx)("li",{className:"p-3 bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-600 transition",onClick:()=>k(e),children:(0,t.jsx)("p",{className:"text-gray-300",children:e.filename})},e._id))}):(0,t.jsx)("p",{className:"text-gray-400",children:"No webpages available."})]})]})}):(0,t.jsx)("p",{className:"text-center",children:"Business not found."}),(0,t.jsxs)(c.lG,{open:w,onClose:()=>_(!1),children:[(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50","aria-hidden":"true"}),(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-hidden",children:(0,t.jsxs)("div",{className:"w-full max-w-3xl h-4/5 flex flex-col bg-gray-800 rounded-lg shadow-xl mx-4",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-100",children:null==f?void 0:f.filename})}),(0,t.jsx)("div",{className:"flex-1 min-h-0 p-4",children:(0,t.jsx)("div",{className:"h-full overflow-y-auto bg-gray-900 rounded-lg border border-gray-700 p-4",children:(0,t.jsx)("p",{className:"text-gray-300 whitespace-pre-wrap",children:N||"Loading..."})})}),(0,t.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(i.$,{onClick:()=>_(!1),className:"bg-red-600 hover:bg-red-700 text-white",children:"Close"})})})]})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[860,636,593,792],()=>s(44)),_N_E=e.O()}]);