(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[248],{44:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/details/[id]",function(){return s(5223)}])},9748:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var a=s(4848);s(6540);let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return({default:"bg-primary text-white hover:bg-primary/90",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-100",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"hover:bg-gray-100",link:"text-blue-600 underline-offset-4 hover:underline"})[e]},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return({default:"h-9 px-4 py-2",sm:"h-8 px-3 py-1 text-sm",lg:"h-10 px-8 py-3",icon:"h-9 w-9 p-2"})[e]},l=e=>{let{className:t="",children:s,variant:l="default",size:i="default",...c}=e;return(0,a.jsx)("button",{className:"\n      rounded-lg \n      font-medium \n      transition-colors \n      duration-200 \n      focus:outline-none \n      focus:ring-2 \n      focus:ring-blue-500 \n      ".concat(r(l),"\n      ").concat(n(i),"\n      ").concat(t,"\n    "),...c,children:s})}},3566:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>l});var a=s(4848);s(6540);var r=s(8019);let n=e=>{let{className:t="",children:s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("bg-gray-800 rounded-xl shadow-lg border border-gray-700",t),children:s})},l=e=>{let{className:t="",children:s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("p-6 pb-3",t),children:s})},i=e=>{let{className:t="",children:s}=e;return(0,a.jsx)("h3",{className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",t),children:s})},c=e=>{let{className:t="",children:s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("p-6 space-y-4",t),children:s})}},8019:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(4164),r=s(856);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},5223:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var a=s(4848),r=s(6540),n=s(6715),l=s(3566),i=s(3545),c=s(7049),o=s(8019);let d=i.bL,x=i.l9;i.YJ,i.ZL,i.Pb,i.z6,r.forwardRef((e,t)=>{let{className:s,inset:r,children:n,...l}=e;return(0,a.jsxs)(i.ZP,{ref:t,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",s),...l,children:[n,(0,a.jsx)(c.vKP,{className:"ml-auto h-4 w-4"})]})}).displayName=i.ZP.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.G5,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=i.G5.displayName;let m=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsx)(i.UC,{ref:t,sideOffset:r,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});m.displayName=i.UC.displayName;let h=r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(i.q7,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",s),...n})});h.displayName=i.q7.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,checked:n,...l}=e;return(0,a.jsxs)(i.H_,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(c.Srz,{className:"h-4 w-4"})})}),r]})}).displayName=i.H_.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(i.hN,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(c.RiX,{className:"h-4 w-4 fill-current"})})}),r]})}).displayName=i.hN.displayName,r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(i.JU,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...n})}).displayName=i.JU.displayName;let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...r})});g.displayName=i.wv.displayName;let u=(0,s(2732).F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500/20 text-green-400 hover:bg-green-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30"}},defaultVariants:{variant:"default"}});function p(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,o.cn)(u({variant:s}),t),...r})}var f=s(5339);let b=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(f.bL,{ref:t,className:(0,o.cn)("relative overflow-hidden",s),...n,children:[(0,a.jsx)(f.LM,{className:(0,o.cn)("h-full w-full rounded-[inherit]"),children:r}),(0,a.jsx)(j,{}),(0,a.jsx)(f.OK,{})]})});b.displayName=f.bL.displayName;let j=r.forwardRef((e,t)=>{let{className:s,orientation:r="vertical",...n}=e;return(0,a.jsx)(f.VM,{ref:t,orientation:r,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...n,children:(0,a.jsx)(f.lr,{className:(0,o.cn)("relative flex-1 rounded-full bg-border")})})});j.displayName=f.VM.displayName;var v=s(9962);let y=e=>{let{value:t,onValueChange:s,children:r}=e;return(0,a.jsx)("select",{value:t,onChange:e=>s(e.target.value),className:"w-full p-2 bg-gray-700 text-white border border-gray-600 rounded-md",children:r})},N=e=>{let{value:t,children:s}=e;return(0,a.jsx)("option",{value:t,children:s})},w=e=>{var t;let{report:s}=e,[n,i]=(0,r.useState)("page-reports");if(!s)return(0,a.jsx)(l.Zp,{className:"bg-gray-800/50 border-gray-700",children:(0,a.jsx)(l.Wu,{children:(0,a.jsx)("p",{className:"text-center text-gray-400",children:"No report data available"})})});let c=e=>{switch(e){case"Immediate Action Required":return"text-red-400 bg-red-950 border-red-800";case"Needs Attention":return"text-yellow-400 bg-yellow-950 border-yellow-800";case"Good Practice":return"text-green-400 bg-green-950 border-green-800";default:return"text-gray-400 bg-gray-950 border-gray-800"}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"w-5 h-5"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:(()=>{switch(n){case"page-reports":var e;return"Page Reports (".concat((null===(e=s.page_reports)||void 0===e?void 0:e.length)||0,")");case"seo-reports":return"SEO Reports";case"performance-reports":return"Performance Reports";default:return"Reports"}})()})]}),(0,a.jsx)("div",{className:"w-[180px]",children:(0,a.jsxs)(y,{value:n,onValueChange:i,children:[(0,a.jsx)(N,{value:"page-reports",children:"Page Reports"}),(0,a.jsx)(N,{value:"seo-reports",children:"SEO Reports"}),(0,a.jsx)(N,{value:"performance-reports",children:"Performance Reports"})]})})]}),"page-reports"===n&&(0,a.jsx)(b,{className:"h-[calc(100vh-280px)] min-h-[500px]",children:(0,a.jsx)("div",{className:"space-y-4 pr-4",children:null===(t=s.page_reports)||void 0===t?void 0:t.map((e,t)=>(0,a.jsx)(l.Zp,{className:"bg-gray-800/50 border-gray-700",children:(0,a.jsxs)(l.Wu,{className:"p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-lg mb-3 text-blue-400 break-all",children:e.website_url}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[(0,a.jsxs)(p,{variant:"destructive",className:"justify-center",children:["Critical: ",e.insights_count["Immediate Action Required"]]}),(0,a.jsxs)(p,{variant:"warning",className:"bg-yellow-900 text-yellow-200 justify-center",children:["Warnings: ",e.insights_count["Needs Attention"]]}),(0,a.jsxs)(p,{variant:"success",className:"bg-green-900 text-green-200 justify-center",children:["Good: ",e.insights_count["Good Practice"]]})]}),(0,a.jsx)("div",{className:"space-y-2",children:e.error_citations.map((e,t)=>(0,a.jsx)("div",{className:"p-3 rounded-md ".concat(c(e.section)),children:e.insight},t))})]})},t))})}),"seo-reports"===n&&(0,a.jsx)("div",{className:"text-center text-gray-400 py-8",children:"SEO Reports coming soon"}),"performance-reports"===n&&(0,a.jsx)("div",{className:"text-center text-gray-400 py-8",children:"Performance Reports coming soon"})]})},S=e=>{var t,s,r;let{business:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:n.name}),(0,a.jsx)("p",{className:"text-gray-400 mt-2",children:n.description})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Contact Information"}),(0,a.jsx)("p",{children:(null===(t=n.contact_information)||void 0===t?void 0:t.address)||"No Address Available"}),(0,a.jsx)("p",{children:(null===(s=n.contact_information)||void 0===s?void 0:s.email)||"No Email Available"}),(0,a.jsx)("p",{children:(null===(r=n.contact_information)||void 0===r?void 0:r.phone)||"No Phone Available"})]})]})};var _=s(8298),C=s(9748);let R=e=>{let{webpages:t,onPageClick:s}=e,[n,l]=(0,r.useState)(null),[i,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(!1),x=async e=>{l(e),d(!0),c(await s(e))};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Loaded Webpages"}),t.length>0?(0,a.jsx)("ul",{className:"space-y-3",children:t.map(e=>(0,a.jsx)("li",{className:"p-3 bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-600 transition",onClick:()=>x(e),children:(0,a.jsx)("p",{className:"text-gray-300",children:e.filename})},e._id))}):(0,a.jsx)("p",{className:"text-gray-400",children:"No webpages available."}),(0,a.jsxs)(_.lG,{open:o,onClose:()=>d(!1),children:[(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50","aria-hidden":"true"}),(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-hidden",children:(0,a.jsxs)("div",{className:"w-full max-w-3xl h-4/5 flex flex-col bg-gray-800 rounded-lg shadow-xl mx-4",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-100",children:null==n?void 0:n.filename})}),(0,a.jsx)("div",{className:"flex-1 min-h-0 p-4",children:(0,a.jsx)("div",{className:"h-full overflow-y-auto bg-gray-900 rounded-lg border border-gray-700 p-4",children:(0,a.jsx)("p",{className:"text-gray-300 whitespace-pre-wrap",children:i||"Loading..."})})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(C.$,{onClick:()=>d(!1),className:"bg-red-600 hover:bg-red-700 text-white",children:"Close"})})})]})})]})]})},k=e=>{let{activeTab:t,onTabChange:s,leftTabs:r,rightTabs:n}=e;return(0,a.jsxs)("div",{className:"flex justify-between border-b border-gray-700 mb-6",children:[(0,a.jsx)("div",{className:"flex space-x-4",children:r.map(e=>(0,a.jsx)("button",{className:"p-2 font-semibold ".concat(t===e.id?"border-b-2 border-blue-500 text-blue-400":"text-gray-400"),onClick:()=>s(e.id),children:e.label},e.id))}),(0,a.jsx)("div",{className:"flex space-x-4",children:n.map(e=>(0,a.jsx)("button",{className:"p-2 font-semibold ".concat(t===e.id?"border-b-2 border-blue-500 text-blue-400":"text-gray-400"),onClick:()=>s(e.id),children:e.label},e.id))})]})};var P=s(6390),E=s(4175),A=s(5044);let O=e=>{let{className:t="",...s}=e;return(0,a.jsx)("input",{className:"w-full px-4 py-2 rounded-lg border border-gray-600 focus:outline-none focus:border-blue-500 bg-gray-700 text-white ".concat(t),...s})},I=e=>{let{open:t,onOpenChange:s,children:r}=e;return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg",style:{width:"1200px",height:"800px"},children:[(0,a.jsx)("button",{className:"absolute top-3 right-3 text-white hover:text-gray-300",onClick:()=>s(!1),children:"âœ•"}),r]})}):null},T=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"flex h-full w-full p-6 ".concat(s),children:t})},B=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"mb-4 text-xl font-bold text-white ".concat(s),children:t})},L=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)("h2",{className:s,children:t})},Z=e=>{let{value:t,onValueChange:s,min:r,max:n,step:l}=e;return(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,a.jsx)("input",{type:"range",className:"w-full",value:t[0],onChange:e=>s([parseFloat(e.target.value)]),min:r,max:n,step:l}),(0,a.jsx)("span",{className:"text-white",children:t[0].toFixed(1)})]})},F="https://leaps-scraper.onrender.com",z={getSettings:async()=>{let e=await fetch("".concat(F,"/settings/get_settings"));if(!e.ok)throw Error("Failed to load settings");return(await e.json()).data},saveSettings:async e=>{if(!(await fetch("".concat(F,"/settings/save_settings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to save settings")},getConversations:async()=>{let e=await fetch("".concat(F,"/conversations/get_conversations"));if(!e.ok)throw Error("Failed to load conversations");return(await e.json()).data||[]},saveConversation:async(e,t)=>{if(!(await fetch("".concat(F,"/conversations/save_conversation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversationId:e,messages:t})})).ok)throw Error("Failed to save conversation")},generateInsight:async(e,t)=>{let s=await fetch("".concat(F,"/insights/generate_insight"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,...t})});if(!s.ok)throw Error("Failed to generate insight");return(await s.json()).data}},G=()=>{let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(""),[l,i]=(0,r.useState)(!1),[c,o]=(0,r.useState)(!1),[d,x]=(0,r.useState)({model:"",temperature:0,presence_penalty:0,vectorStore:"",prompt:""}),[m,h]=(0,r.useState)([]),[g,u]=(0,r.useState)(null),p=(0,r.useRef)(null);(0,r.useEffect)(()=>{b(),f()},[]),(0,r.useEffect)(()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e,l]);let f=async()=>{try{let e=await z.getSettings();x(e)}catch(e){console.error("Error loading settings:",e)}},b=async()=>{try{let e=await z.getConversations();h(e)}catch(e){console.error("Error loading conversations:",e)}},j=async()=>{let e={id:Date.now().toString(),title:"New Conversation",messages:[],createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()};return h([e,...m]),u(e.id),t([]),e.id},v=async()=>{if(!s.trim())return;let a={role:"user",text:s,timestamp:new Date().toISOString()},r=g;r||(r=await j()),t(e=>[...e,a]),n(""),i(!0);try{let n=await z.generateInsight(s,d),l={role:"bot",text:n,timestamp:new Date().toISOString()},i=[...e,a,l];t(i);let c=m.map(e=>e.id===r?{...e,messages:i,lastUpdated:new Date().toISOString(),title:s.slice(0,30)+"..."}:e);h(c),await z.saveConversation(r,i)}catch(e){console.error("Error sending message:",e)}finally{i(!1)}},w=e=>{let s=m.find(t=>t.id===e);s&&(t(s.messages),u(e))},S=async()=>{try{await z.saveSettings(d),o(!1)}catch(e){console.error("Error saving settings:",e)}};return(0,a.jsxs)("div",{className:"flex h-full bg-gray-900",children:[(0,a.jsxs)("div",{className:"w-64 bg-gray-800 mr-4 rounded-lg flex flex-col",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,a.jsxs)(C.$,{className:"w-full bg-blue-600 text-white flex items-center justify-center gap-2",onClick:j,children:[(0,a.jsx)(P.A,{size:18}),"New Chat"]})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:m.map(e=>(0,a.jsxs)("div",{className:"p-3 cursor-pointer hover:bg-gray-700 ".concat(g===e.id?"bg-gray-700":""),onClick:()=>w(e.id),children:[(0,a.jsx)("div",{className:"text-white truncate",children:e.title}),(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:new Date(e.lastUpdated).toLocaleDateString()})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex-1 bg-gray-800 rounded-lg flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"Leaps AI ChatBot"}),(0,a.jsx)(C.$,{onClick:()=>o(!0),className:"bg-gray-700",children:(0,a.jsx)(E.A,{size:18})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((e,t)=>(0,a.jsxs)("div",{className:"max-w-[75%] ".concat("user"===e.role?"ml-auto bg-blue-600 text-white":"mr-auto bg-gray-700 text-white"," rounded-lg p-3"),children:[(0,a.jsx)("div",{children:e.text}),(0,a.jsx)("div",{className:"text-xs opacity-50 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]},t)),l&&(0,a.jsx)("div",{className:"mr-auto bg-gray-700 text-white rounded-lg p-3",children:"AI is thinking..."}),(0,a.jsx)("div",{ref:p})]}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(O,{className:"flex-1 bg-gray-700 text-white",placeholder:"Type a message...",value:s,onChange:e=>n(e.target.value),onKeyDown:e=>"Enter"===e.key&&!e.shiftKey&&v()}),(0,a.jsx)(C.$,{onClick:v,className:"bg-blue-600",children:(0,a.jsx)(A.A,{size:18})})]})})]}),(0,a.jsx)(I,{open:c,onOpenChange:o,children:(0,a.jsxs)(T,{className:"bg-gray-800 text-white",children:[(0,a.jsx)(B,{children:(0,a.jsx)(L,{children:"Settings"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{children:"Model"}),(0,a.jsxs)(y,{value:d.model,onValueChange:e=>x(t=>({...t,model:e})),children:[(0,a.jsx)(N,{value:"gpt-4o-2024-08-06",children:"GPT-4o"}),(0,a.jsx)(N,{value:"gpt-4-turbo-2024-04-09",children:"GPT-4-Turbo"}),(0,a.jsx)(N,{value:"gpt-4o-mini-2024-07-18",children:"gpt-4o-mini"}),(0,a.jsx)(N,{value:"o1-mini-2024-09-12",children:"o1-mini"}),(0,a.jsx)(N,{value:"o1-preview-2024-09-12",children:"o1-preview"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{children:["Temperature: ",d.temperature]}),(0,a.jsx)(Z,{value:[d.temperature],onValueChange:e=>{let[t]=e;return x(e=>({...e,temperature:t}))},min:0,max:1,step:.1})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{children:"Vector Store"}),(0,a.jsxs)(y,{value:d.vectorStore,onValueChange:e=>x(t=>({...t,vectorStore:e})),children:[(0,a.jsx)(N,{value:"leaps",children:"Leaps"}),(0,a.jsx)(N,{value:"leapsjson",children:"Leaps Json"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{children:"System Prompt"}),(0,a.jsx)("textarea",{value:d.prompt,onChange:e=>x(t=>({...t,prompt:e.target.value})),className:"w-full h-32 bg-gray-700 rounded p-2"})]}),(0,a.jsx)(C.$,{onClick:S,className:"w-full bg-blue-600",children:"Save Settings"})]})]})})]})},W=()=>{let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("https://leaps-scraper.onrender.com/business/get_all_businesses"),s=await e.json();t(s.data||[])}catch(e){console.error("Error fetching businesses:",e)}finally{n(!1)}})()},[]),s)?(0,a.jsx)("p",{className:"text-center",children:"Loading businesses..."}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(e=>(0,a.jsx)(l.Zp,{className:"bg-gray-800 shadow-lg cursor-pointer hover:bg-gray-700 transition",children:(0,a.jsxs)(l.Wu,{className:"p-4 text-center",children:[(0,a.jsx)("h2",{className:"text-lg font-bold",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]})},e._id))})},V="https://leaps-scraper.onrender.com",D={getBusinessById:async e=>{let t=await fetch("".concat(V,"/business/get_business_by_id/").concat(e));return(await t.json()).data},getReportForBusiness:async e=>{let t=await fetch("".concat(V,"/report/get_report_for_business/").concat(e));return(await t.json()).data||null},getPagesByBusinessId:async e=>{let t=await fetch("".concat(V,"/pages/get_pages_by_business_id/").concat(e));return(await t.json()).data||[]},getPageById:async e=>{try{var t,s;let a=await fetch("".concat(V,"/pages/get_page_by_id/").concat(e)),r=await a.json();return(null===(s=r.data)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.content)||"No content available."}catch(e){return console.error("Error fetching webpage content:",e),"Error loading page content."}}};var q=s(2044),J=s(1017),U=s(2265),$=s(5496);let K=e=>{let{report:t}=e;if(!t)return(0,a.jsx)(l.Zp,{className:"bg-gray-800/50 border-gray-700",children:(0,a.jsx)(l.Wu,{children:(0,a.jsx)("p",{className:"text-center text-gray-400",children:"No report data available"})})});let s=e=>t.insights_count[e]||0,r=e=>t.insights_breakdown?Object.entries(t.insights_breakdown).filter(t=>{let[s]=t;return"Good Practice"===e?s.includes("Good practice for SEO"):"Needs Attention"===e?s.includes("missing alt text")||s.includes("Consider adding more content"):s.includes("No canonical tag")||s.includes("No meta description")}).map(e=>{let[t,s]=e;return{insight:t,count:s}}):[];return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(l.Zp,{className:"bg-red-950/50 border-red-800",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(J.A,{className:"w-5 h-5 text-red-400"}),(0,a.jsx)("span",{children:"Critical Issues"})]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-red-400 mb-2",children:s("Immediate Action Required")}),(0,a.jsx)(b,{className:"h-32",children:r("Immediate Action Required").map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsxs)(p,{variant:"destructive",className:"shrink-0",children:[e.count,"x"]}),(0,a.jsx)("span",{className:"text-sm text-red-200",children:e.insight})]},t))})]})]}),(0,a.jsxs)(l.Zp,{className:"bg-yellow-950/50 border-yellow-800",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(U.A,{className:"w-5 h-5 text-yellow-400"}),(0,a.jsx)("span",{children:"Warnings"})]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:s("Needs Attention")}),(0,a.jsx)(b,{className:"h-32",children:r("Needs Attention").map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsxs)(p,{variant:"warning",className:"bg-yellow-900 text-yellow-200 shrink-0",children:[e.count,"x"]}),(0,a.jsx)("span",{className:"text-sm text-yellow-200",children:e.insight})]},t))})]})]}),(0,a.jsxs)(l.Zp,{className:"bg-green-950/50 border-green-800",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)($.A,{className:"w-5 h-5 text-green-400"}),(0,a.jsx)("span",{children:"Good Practices"})]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:s("Good Practice")}),(0,a.jsx)(b,{className:"h-32",children:r("Good Practice").map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsxs)(p,{variant:"success",className:"bg-green-900 text-green-200 shrink-0",children:[e.count,"x"]}),(0,a.jsx)("span",{className:"text-sm text-green-200",children:e.insight})]},t))})]})]})]})})},M=()=>{let{id:e}=(0,n.useRouter)().query,[t,s]=(0,r.useState)(null),[i,c]=(0,r.useState)([]),[o,u]=(0,r.useState)(null),[p,f]=(0,r.useState)(!0),[b,j]=(0,r.useState)("overview");(0,r.useEffect)(()=>{e&&(async()=>{try{let[t,a]=await Promise.all([D.getBusinessById(e),D.getReportForBusiness(e)]);s(t),u(a)}catch(e){console.error("Error fetching initial data:",e)}finally{f(!1)}})()},[e]);let v=async()=>{if(e)try{let t=await D.getPagesByBusinessId(e);c(t)}catch(e){console.error("Error fetching webpages:",e)}},y=async e=>await D.getPageById(e._id);return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 p-6 text-white",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Built by: @jgx02 v0.1.10"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Leaps & Rebounds"}),(0,a.jsxs)(d,{children:[(0,a.jsx)(x,{asChild:!0,children:(0,a.jsx)("button",{className:"outline-none",children:(0,a.jsx)(q.A,{className:"h-8 w-8 text-gray-400 hover:text-white cursor-pointer"})})}),(0,a.jsxs)(m,{className:"w-48 bg-gray-800 border-gray-700",children:[(0,a.jsx)(h,{className:"text-gray-200 focus:text-white focus:bg-gray-700",children:"Settings"}),(0,a.jsx)(g,{className:"bg-gray-700"}),(0,a.jsx)(h,{className:"text-gray-200 focus:text-white focus:bg-gray-700",children:"Sign Out"})]})]})]})]}),(0,a.jsx)(k,{activeTab:b,onTabChange:e=>{j(e),"webpages"===e&&v()},leftTabs:[{id:"overview",label:"Overview"},{id:"traffic",label:"Traffic"},{id:"analytics",label:"Analytics"},{id:"pageReports",label:"Reports"},{id:"webpages",label:"Webpages"},{id:"files",label:"Files"}],rightTabs:[{id:"chat",label:"Chat"},{id:"competitor",label:"Competitor Lookup"},{id:"profile",label:"Profile"}]}),p?(0,a.jsx)("p",{className:"text-center",children:"Loading business details..."}):t?(0,a.jsx)(l.Zp,{className:"bg-gray-800 shadow-lg",children:(0,a.jsxs)(l.Wu,{className:"p-6",children:["overview"===b&&(0,a.jsx)(K,{report:o}),"traffic"===b&&(0,a.jsx)("div",{className:"text-center text-gray-400 py-8",children:"Traffic view coming soon"}),"analytics"===b&&(0,a.jsx)("div",{className:"text-center text-gray-400 py-8",children:"Analytics view coming soon"}),"pageReports"===b&&(0,a.jsx)(w,{report:o}),"webpages"===b&&(0,a.jsx)(R,{webpages:i,onPageClick:y}),"files"===b&&(0,a.jsx)("div",{className:"text-center text-gray-400 py-8",children:"Files view coming soon"}),"chat"===b&&(0,a.jsx)(G,{}),"competitor"===b&&(0,a.jsx)(W,{}),"profile"===b&&(0,a.jsx)(S,{business:t})]})}):(0,a.jsx)("p",{className:"text-center",children:"Business not found."})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[791,401,766,636,593,792],()=>t(44)),_N_E=e.O()}]);